{"ast":null,"code":"import { showLoading, hideLoading } from \"react-redux-loading\";\nimport { saveQuestionAnswer, saveQuestion } from \"../utils/api\";\nimport { submitUserAnswer, submitUserQuestion } from \"./users\";\nexport const RECEIVE_QUESTIONS = \"RECEIVE_QUESTIONS\";\nexport const SAVE_QUESTION_ANSWER = \"SAVE_QUESTION_ANSWER\";\nexport const SAVE_QUESTION = \"SAVE_QUESTION\";\n\nfunction submitQuestion(question) {\n  return {\n    type: SAVE_QUESTION,\n    question\n  };\n}\n\nexport function handleSaveQuestion(options) {\n  console.log(options.optionOne, options.optionTwo);\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    dispatch(showLoading());\n    return saveQuestion({\n      optionOne: options.optionOne,\n      author: authedUser,\n      optionTwo: options.optionTwo\n    }).then(question => {\n      console.log(question);\n      dispatch(submitQuestion(question));\n      return question;\n    }).then(question => dispatch(submitUserQuestion(question, authedUser))).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn(\"error in saving question : \", e);\n      dispatch(hideLoading());\n      alert(\"There was an error while saving, Please try again\");\n    });\n  };\n}\n\nfunction submitQuestionAnswer({\n  qid,\n  authedUser,\n  answer\n}) {\n  return {\n    type: SAVE_QUESTION_ANSWER,\n    qid,\n    authedUser,\n    answer\n  };\n}\n\nexport function handleSaveQuestionAnswer({\n  qid,\n  answer\n}) {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    dispatch(showLoading());\n    return saveQuestionAnswer({\n      qid,\n      authedUser,\n      answer\n    }).then(() => dispatch(submitQuestionAnswer({\n      qid,\n      authedUser,\n      answer\n    }))).then(() => dispatch(submitUserAnswer({\n      qid,\n      authedUser,\n      answer\n    }))).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn(\"error in saving answer : \", e);\n      dispatch(hideLoading());\n      alert(\"There was an error while saving, Please try again\");\n    });\n  };\n}\nexport function receiveQuestions(questions) {\n  return {\n    type: RECEIVE_QUESTIONS,\n    questions\n  };\n}","map":{"version":3,"sources":["/home/workspace/would-you-rather/src/actions/questions.js"],"names":["showLoading","hideLoading","saveQuestionAnswer","saveQuestion","submitUserAnswer","submitUserQuestion","RECEIVE_QUESTIONS","SAVE_QUESTION_ANSWER","SAVE_QUESTION","submitQuestion","question","type","handleSaveQuestion","options","console","log","optionOne","optionTwo","dispatch","getState","authedUser","author","then","catch","e","warn","alert","submitQuestionAnswer","qid","answer","handleSaveQuestionAnswer","receiveQuestions","questions"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AACA,SAASC,kBAAT,EAA6BC,YAA7B,QAAiD,cAAjD;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,SAArD;AAEA,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;;AAEP,SAASC,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,SAAO;AACLC,IAAAA,IAAI,EAAEH,aADD;AAELE,IAAAA;AAFK,GAAP;AAID;;AAED,OAAO,SAASE,kBAAT,CAA6BC,OAA7B,EAAuC;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,SAApB,EAA8BH,OAAO,CAACI,SAAtC;AACA,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAiBD,QAAQ,EAA/B;AACAD,IAAAA,QAAQ,CAAClB,WAAW,EAAZ,CAAR;AACA,WAAOG,YAAY,CAAC;AAAEa,MAAAA,SAAS,EAAEH,OAAO,CAACG,SAArB;AAAgCK,MAAAA,MAAM,EAAED,UAAxC;AAAoDH,MAAAA,SAAS,EAAEJ,OAAO,CAACI;AAAvE,KAAD,CAAZ,CACJK,IADI,CACEZ,QAAD,IAAc;AACpBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACEQ,MAAAA,QAAQ,CAACT,cAAc,CAAEC,QAAF,CAAf,CAAR;AACD,aAAOA,QAAP;AACA,KALI,EAMJY,IANI,CAMEZ,QAAD,IACJQ,QAAQ,CAACb,kBAAkB,CAACK,QAAD,EAAWU,UAAX,CAAnB,CAPL,EASJE,IATI,CASC,MAAMJ,QAAQ,CAACjB,WAAW,EAAZ,CATf,EAUJsB,KAVI,CAUGC,CAAD,IAAO;AACZV,MAAAA,OAAO,CAACW,IAAR,CAAa,6BAAb,EAA4CD,CAA5C;AACAN,MAAAA,QAAQ,CAACjB,WAAW,EAAZ,CAAR;AACAyB,MAAAA,KAAK,CAAC,mDAAD,CAAL;AACD,KAdI,CAAP;AAeD,GAlBD;AAmBD;;AAED,SAASC,oBAAT,CAA8B;AAAEC,EAAAA,GAAF;AAAOR,EAAAA,UAAP;AAAmBS,EAAAA;AAAnB,CAA9B,EAA2D;AACzD,SAAO;AACLlB,IAAAA,IAAI,EAAEJ,oBADD;AAELqB,IAAAA,GAFK;AAGLR,IAAAA,UAHK;AAILS,IAAAA;AAJK,GAAP;AAMD;;AAED,OAAO,SAASC,wBAAT,CAAkC;AAAEF,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAlC,EAAmD;AACxD,SAAO,CAACX,QAAD,EAAWC,QAAX,KAAwB;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAiBD,QAAQ,EAA/B;AACAD,IAAAA,QAAQ,CAAClB,WAAW,EAAZ,CAAR;AACA,WAAOE,kBAAkB,CAAC;AAAE0B,MAAAA,GAAF;AAAOR,MAAAA,UAAP;AAAmBS,MAAAA;AAAnB,KAAD,CAAlB,CACJP,IADI,CACC,MAAMJ,QAAQ,CAACS,oBAAoB,CAAC;AAAEC,MAAAA,GAAF;AAAOR,MAAAA,UAAP;AAAmBS,MAAAA;AAAnB,KAAD,CAArB,CADf,EAEJP,IAFI,CAEC,MAAMJ,QAAQ,CAACd,gBAAgB,CAAC;AAAEwB,MAAAA,GAAF;AAAOR,MAAAA,UAAP;AAAmBS,MAAAA;AAAnB,KAAD,CAAjB,CAFf,EAGJP,IAHI,CAGC,MAAMJ,QAAQ,CAACjB,WAAW,EAAZ,CAHf,EAIJsB,KAJI,CAIGC,CAAD,IAAO;AACZV,MAAAA,OAAO,CAACW,IAAR,CAAa,2BAAb,EAA0CD,CAA1C;AACAN,MAAAA,QAAQ,CAACjB,WAAW,EAAZ,CAAR;AACAyB,MAAAA,KAAK,CAAC,mDAAD,CAAL;AACD,KARI,CAAP;AASD,GAZD;AAaD;AAED,OAAO,SAASK,gBAAT,CAA0BC,SAA1B,EAAqC;AAC1C,SAAO;AACLrB,IAAAA,IAAI,EAAEL,iBADD;AAEL0B,IAAAA;AAFK,GAAP;AAID","sourcesContent":["import { showLoading, hideLoading } from \"react-redux-loading\"\nimport { saveQuestionAnswer, saveQuestion } from \"../utils/api\"\nimport { submitUserAnswer, submitUserQuestion } from \"./users\"\n\nexport const RECEIVE_QUESTIONS = \"RECEIVE_QUESTIONS\"\nexport const SAVE_QUESTION_ANSWER = \"SAVE_QUESTION_ANSWER\"\nexport const SAVE_QUESTION = \"SAVE_QUESTION\"\n\nfunction submitQuestion(question) {\n  return {\n    type: SAVE_QUESTION,\n    question,\n  }\n}\n\nexport function handleSaveQuestion( options ) {\n  console.log(options.optionOne,options.optionTwo)\n  return (dispatch, getState) => {\n    const { authedUser } = getState()\n    dispatch(showLoading())\n    return saveQuestion({ optionOne: options.optionOne, author: authedUser, optionTwo: options.optionTwo })\n      .then((question) => {\n      console.log(question)\n        dispatch(submitQuestion( question ))\n      \treturn question\n      })\n      .then((question) =>\n        dispatch(submitUserQuestion(question, authedUser ))\n      )\n      .then(() => dispatch(hideLoading()))\n      .catch((e) => {\n        console.warn(\"error in saving question : \", e)\n        dispatch(hideLoading())\n        alert(\"There was an error while saving, Please try again\")\n      })\n  }\n}\n\nfunction submitQuestionAnswer({ qid, authedUser, answer }) {\n  return {\n    type: SAVE_QUESTION_ANSWER,\n    qid,\n    authedUser,\n    answer,\n  }\n}\n\nexport function handleSaveQuestionAnswer({ qid, answer }) {\n  return (dispatch, getState) => {\n    const { authedUser } = getState()\n    dispatch(showLoading())\n    return saveQuestionAnswer({ qid, authedUser, answer })\n      .then(() => dispatch(submitQuestionAnswer({ qid, authedUser, answer })))\n      .then(() => dispatch(submitUserAnswer({ qid, authedUser, answer })))\n      .then(() => dispatch(hideLoading()))\n      .catch((e) => {\n        console.warn(\"error in saving answer : \", e)\n        dispatch(hideLoading())\n        alert(\"There was an error while saving, Please try again\")\n      })\n  }\n}\n\nexport function receiveQuestions(questions) {\n  return {\n    type: RECEIVE_QUESTIONS,\n    questions,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}