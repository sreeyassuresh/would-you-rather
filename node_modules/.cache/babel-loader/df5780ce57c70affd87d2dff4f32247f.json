{"ast":null,"code":"import { showLoading, hideLoading } from 'react-redux-loading';\nimport { saveQuestionAnswer, saveQuestion } from '../utils/api';\nimport { submitUserAnswer, submitUserQuestion } from './users';\nexport const RECEIVE_QUESTIONS = 'RECEIVE_QUESTIONS';\nexport const SAVE_QUESTION_ANSWER = 'SAVE_QUESTION_ANSWER';\nexport const SAVE_QUESTION = 'SAVE_QUESTION';\n\nfunction submitQuestion(question) {\n  return {\n    type: SAVE_QUESTION,\n    question\n  };\n}\n\nexport function handleSaveQuestion({\n  optionOne,\n  optionTwo\n}) {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    dispatch(showLoading());\n    return saveQuestion({\n      optionOne,\n      author: authedUser,\n      optionTwo\n    }).then(question => {\n      dispatch(submitQuestion(question));\n    }).then(question => dispatch(submitUserQuestion({\n      id: question.id,\n      authedUser\n    }))).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn('error in saving question : ', e);\n      dispatch(hideLoading());\n      alert('There was an error while saving, Please try again');\n    });\n  };\n}\n\nfunction submitQuestionAnswer({\n  qid,\n  authedUser,\n  answer\n}) {\n  return {\n    type: SAVE_QUESTION_ANSWER,\n    qid,\n    authedUser,\n    answer\n  };\n}\n\nexport function handleSaveQuestionAnswer({\n  qid,\n  answer\n}) {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    dispatch(showLoading());\n    return saveQuestionAnswer({\n      qid,\n      authedUser,\n      answer\n    }).then(() => dispatch(submitQuestionAnswer({\n      qid,\n      authedUser,\n      answer\n    }))).then(() => dispatch(submitUserAnswer({\n      qid,\n      authedUser,\n      answer\n    }))).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn('error in saving answer : ', e);\n      dispatch(hideLoading());\n      alert('There was an error while saving, Please try again');\n    });\n  };\n}\nexport function receiveQuestions(questions) {\n  return {\n    type: RECEIVE_QUESTIONS,\n    questions\n  };\n}","map":{"version":3,"sources":["/home/workspace/would-you-rather/src/actions/questions.js"],"names":["showLoading","hideLoading","saveQuestionAnswer","saveQuestion","submitUserAnswer","submitUserQuestion","RECEIVE_QUESTIONS","SAVE_QUESTION_ANSWER","SAVE_QUESTION","submitQuestion","question","type","handleSaveQuestion","optionOne","optionTwo","dispatch","getState","authedUser","author","then","id","catch","e","console","warn","alert","submitQuestionAnswer","qid","answer","handleSaveQuestionAnswer","receiveQuestions","questions"],"mappings":"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","sourcesContent":["import { showLoading, hideLoading } from 'react-redux-loading'\nimport {saveQuestionAnswer, saveQuestion} from '../utils/api'\nimport { submitUserAnswer, submitUserQuestion } from './users'\n\nexport const RECEIVE_QUESTIONS = 'RECEIVE_QUESTIONS' ;\nexport const SAVE_QUESTION_ANSWER = 'SAVE_QUESTION_ANSWER' ;\nexport const SAVE_QUESTION = 'SAVE_QUESTION' ;\n\nfunction submitQuestion (question) {\n    return {\n        type : SAVE_QUESTION,\n        question\n\n    }\n}\n\nexport function handleSaveQuestion({optionOne, optionTwo}) {\n    return (dispatch, getState) => {\n        const { authedUser } = getState()\n        dispatch(showLoading())\n        return saveQuestion({ optionOne , author:authedUser , optionTwo }).\n        then((question) => {dispatch(submitQuestion(question))}).\n        then((question) => dispatch(submitUserQuestion({id:question.id,authedUser}))).\n        then(() => dispatch(hideLoading())) .\n        catch((e) => {\n            console.warn('error in saving question : ', e)\n            dispatch(hideLoading())\n            alert('There was an error while saving, Please try again')\n        })\n    }\n}\n\nfunction submitQuestionAnswer ({qid,authedUser,answer}) {\n    return {\n        type : SAVE_QUESTION_ANSWER,\n        qid,\n        authedUser,\n        answer\n    }\n}\n\nexport function handleSaveQuestionAnswer({qid, answer}) {\n    return (dispatch, getState) => {\n        const { authedUser } = getState()\n        dispatch(showLoading())\n        return saveQuestionAnswer({ qid , authedUser , answer }).\n        then(() => dispatch(submitQuestionAnswer({ qid , authedUser , answer }))).\n        then(() => dispatch(submitUserAnswer({ qid , authedUser , answer }))).\n        then(() => dispatch(hideLoading())) .\n        catch((e) => {\n            console.warn('error in saving answer : ', e)\n            dispatch(hideLoading())\n            alert('There was an error while saving, Please try again')\n        })\n    }\n}\n\nexport function receiveQuestions (questions) {\n    return {\n        type : RECEIVE_QUESTIONS,\n        questions\n    }\n}"]},"metadata":{},"sourceType":"module"}